(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"7UCR":function(t,e,s){"use strict";s.r(e),s.d(e,"UserModule",function(){return Z});var n=s("fXoL"),i=s("pO/h"),a=s("pLWT"),r=s("tyNb");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=n.Cb({type:t,selectors:[["app-user"]],decls:3,vars:1,consts:[[3,"full"]],template:function(t,e){1&t&&(n.Ob(0,"page"),n.Ob(1,"page-content",0),n.Jb(2,"router-outlet"),n.Nb(),n.Nb()),2&t&&(n.xb(1),n.dc("full",!0))},directives:[i.a,a.a,r.e],styles:[""]}),t})();var l=s("ofXK"),b=s("3Pt+"),c=s("sQRL"),d=s("vAGt"),p=s("aXh3"),u=s("Bz8t"),m=s("7CaW"),g=s("dts7"),f=s("7kUa"),h=s("jIHw"),v=s("/RsI"),w=s("7zfz"),O=s("FMpt"),I=s("Vc15");function x(t,e){if(1&t){const t=n.Pb();n.Ob(0,"div",22),n.Ob(1,"button",23),n.Vb("click",function(){return n.qc(t),n.Xb().showInstallDialog=!0}),n.Nb(),n.Nb()}}function N(t,e){if(1&t&&(n.Jb(0,"p-message",24),n.Yb(1,"translate"),n.Yb(2,"translate")),2&t){const t=n.Xb();n.dc("text",t.userform.controls.name.errors.required?n.Zb(1,1,"user-account-required"):t.userform.controls.name.errors.minlength?n.Zb(2,3,"user-account-validation"):"")}}function y(t,e){if(1&t&&(n.Jb(0,"p-message",24),n.Yb(1,"translate"),n.Yb(2,"translate")),2&t){const t=n.Xb();n.dc("text",t.userform.controls.password.errors.required?n.Zb(1,1,"user-password-required"):t.userform.controls.password.errors.minlength?n.Zb(2,3,"user-password-validation"):"")}}let C=(()=>{class t{constructor(t,e,s,n){this.fb=t,this.userService=e,this.cs=s,this.pwaService=n,this.smsRequired=!1,this.enableResend=!1,this.isPWAInstallable=!1,this.showInstallDialog=!1}ngOnInit(){this.initializeForms()}initializeForms(){let t=this.userService.getLastUserName()||"";this.userform=this.fb.group({name:new b.c(t,this.minValidators(2)),password:new b.c("",this.minValidators(4))}),this.processPWAInstallation()}onLogin(t){this.userService.login(this.userform.value)}openRegister(){this.cs.navigation.userRegister()}minValidators(t){return b.m.compose([b.m.required,b.m.minLength(t)])}processPWAInstallation(){let t="pw-install-key";this.pwaService.registerBeforeInstallEvent(()=>{this.isPWAInstallable=!0,localStorage.getItem(t)||(this.showInstallDialog=!0,localStorage.setItem(t,"already-asked"))})}onInstall(){this.pwaService.promptInstallation(()=>{this.isPWAInstallable=!1,this.showInstallDialog=!1},()=>{this.showInstallDialog=!1})}}return t.\u0275fac=function(e){return new(e||t)(n.Ib(b.b),n.Ib(c.a),n.Ib(d.a),n.Ib(p.a))},t.\u0275cmp=n.Cb({type:t,selectors:[["user-login"]],decls:47,vars:38,consts:[["class","install-button",4,"ngIf"],[1,"view-container"],[1,"shadow","slideInUp",3,"formGroup","ngSubmit"],[3,"header"],[1,"p-grid","p-fluid",2,"margin","10px 0px"],[1,"p-col-12","no-padding"],["enableService","true",3,"showTransitionOptions","hideTransitionOptions"],[1,"p-col-12"],[1,"p-inputgroup"],[1,"p-inputgroup-addon"],[1,"pi","pi-user"],["type","text","pInputText","","type","text","formControlName","name",3,"placeholder"],["severity","error",3,"text",4,"ngIf"],[1,"pi","pi-lock"],["pInputText","","type","password","formControlName","password",3,"placeholder"],["type","submit",3,"label","disabled"],["position","center","appendTo","body","styleClass","app-dialog",3,"visible","modal","dismissableMask","draggable","visibleChange"],[1,"install-container"],["src","assets/icons/icon.png",1,"icon"],[1,"install-message"],[1,"p-grid","p-justify-even"],[3,"label","onClick"],[1,"install-button"],["pButton","","type","button","icon","pi pi-download","iconPos","left",1,"ui-button-raised","ui-button-rounded",3,"click"],["severity","error",3,"text"]],template:function(t,e){1&t&&(n.Ob(0,"centered"),n.yc(1,x,2,0,"div",0),n.Ob(2,"div",1),n.Ob(3,"form",2),n.Vb("ngSubmit",function(){return e.onLogin(e.userform.value)}),n.Ob(4,"p-panel",3),n.Yb(5,"translate"),n.Ob(6,"div",4),n.Ob(7,"div",5),n.Jb(8,"p-messages",6),n.Nb(),n.Ob(9,"div",7),n.Ac(10),n.Yb(11,"translate"),n.Nb(),n.Ob(12,"div",7),n.Ob(13,"div",8),n.Ob(14,"span",9),n.Jb(15,"i",10),n.Nb(),n.Jb(16,"input",11),n.Yb(17,"translate"),n.Nb(),n.Nb(),n.Ob(18,"div",7),n.yc(19,N,3,5,"p-message",12),n.Nb(),n.Ob(20,"div",7),n.Ac(21),n.Yb(22,"translate"),n.Nb(),n.Ob(23,"div",7),n.Ob(24,"div",8),n.Ob(25,"span",9),n.Jb(26,"i",13),n.Nb(),n.Jb(27,"input",14),n.Yb(28,"translate"),n.Nb(),n.Nb(),n.Ob(29,"div",7),n.yc(30,y,3,5,"p-message",12),n.Nb(),n.Ob(31,"div",7),n.Jb(32,"p-button",15),n.Yb(33,"translate"),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Nb(),n.Ob(34,"p-dialog",16),n.Vb("visibleChange",function(t){return e.showInstallDialog=t}),n.Ob(35,"p-header"),n.Ac(36),n.Yb(37,"translate"),n.Nb(),n.Ob(38,"div",17),n.Jb(39,"img",18),n.Ob(40,"p",19),n.Ac(41),n.Yb(42,"translate"),n.Nb(),n.Nb(),n.Ob(43,"p-footer"),n.Ob(44,"div",20),n.Ob(45,"p-button",21),n.Vb("onClick",function(){return e.onInstall()}),n.Yb(46,"translate"),n.Nb(),n.Nb(),n.Nb(),n.Nb()),2&t&&(n.xb(1),n.dc("ngIf",e.isPWAInstallable),n.xb(2),n.dc("formGroup",e.userform),n.xb(1),n.dc("header",n.Zb(5,20,"user-login")),n.xb(4),n.dc("showTransitionOptions","300ms")("hideTransitionOptions","300ms"),n.xb(2),n.Cc(" ",n.Zb(11,22,"user-account")," "),n.xb(6),n.dc("placeholder",n.Zb(17,24,"enter-user-account")),n.xb(3),n.dc("ngIf",!e.userform.controls.name.valid&&e.userform.controls.name.dirty),n.xb(2),n.Cc(" ",n.Zb(22,26,"user-password")," "),n.xb(6),n.dc("placeholder",n.Zb(28,28,"enter-user-password")),n.xb(3),n.dc("ngIf",!e.userform.controls.password.valid&&e.userform.controls.password.dirty),n.xb(2),n.dc("label",n.Zb(33,30,"login"))("disabled",!e.userform.valid),n.xb(2),n.dc("visible",e.showInstallDialog)("modal",!0)("dismissableMask",!0)("draggable",!1),n.xb(2),n.Cc(" ",n.Zb(37,32,"install")," "),n.xb(5),n.Cc(" ",n.Zb(42,34,"install-message")," "),n.xb(4),n.dc("label",n.Zb(46,36,"install")))},directives:[u.a,l.j,b.n,b.j,b.e,m.a,g.a,b.a,f.a,b.i,b.d,h.a,v.a,w.e,w.d,h.b,O.b],pipes:[I.a],styles:[".view-container[_ngcontent-%COMP%]{position:relative;height:100%;width:100%;display:flex;align-items:center}form[_ngcontent-%COMP%]{border:.02cm solid var(--secondary-dar-trans)!important}.icon[_ngcontent-%COMP%]{width:2cm;height:2cm}.install-container[_ngcontent-%COMP%]{position:relative;display:flex}.install-message[_ngcontent-%COMP%]{margin:.2cm}.install-button[_ngcontent-%COMP%]{position:fixed;left:.3cm;top:.3cm}.resend-label[_ngcontent-%COMP%]{padding-left:.2cm;padding-right:.2cm;width:100%;direction:rtl;text-align:center}.flex[_ngcontent-%COMP%]{display:flex}"]}),t})();var P=s("pl0p"),k=s("QIUk");const Y=[{path:"",component:o,children:[{path:"login",component:C}]}];let Z=(()=>{class t{}return t.\u0275mod=n.Gb({type:t}),t.\u0275inj=n.Fb({factory:function(e){return new(e||t)},providers:[c.a],imports:[[l.b,P.a,b.f,b.l,O.a,g.b,f.b,k.a,m.b,h.c,v.b,r.d.forChild(Y)]]}),t})()}}]);